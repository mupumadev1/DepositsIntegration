<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %} {% endblock %}</title>
    {% block styles %}
        <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css" rel="stylesheet"
              type='text/css'>

        <link rel="stylesheet" href="{% static 'css/main.css' %}">
    {% endblock %}

    {% block extra-styles %}{% endblock %}
</head>
<body>
<nav class="navbar navbar-secondary px-0 py-3" style="background-color: #0B0B45">
    <div class="container">
        <a href="" class="navbar-brand text-white px-2">Infratel-ZICB Payment Integration</a>

        <div>
            <ul class="navbar-nav mr-auto flex-row ">
                {% if request.user.role == '001' %}
                    <li class="nav-item  p-2"><a href="{% url 'webapp:upload-bank-details' %}"
                                                 class="text-white nav-link" >Add Vendor
                        Bank Details</a></li>
                    <li class="nav-item p-2"><a href="{% url 'webapp:bank-details' %}" class="text-white nav-link"
                                                >Vendor Bank Details</a></li>
                {% elif request.user.role == '002' %}
                    <li class="nav-item  p-2"><a href="{% url 'webapp:homepage' %}" class="text-white nav-link"
                                                 >Transactions</a></li>
                    <li class="nav-item p-2"><a href="{% url 'webapp:transaction-history' %}"
                                                class="text-white nav-link" >Transaction
                        History</a></li>
                {% endif %}
                <li class="nav-item dropdown p-2 ">
                    <a class="nav-link dropdown-toggle text-white" href="#"
                       role="button" data-bs-toggle="popover"
                       data-bs-placement="bottom" data-bs-html="true"
                       data-bs-content="<a  href='{% url 'webapp:logout' %}' style='text-decoration: none;'>Sign Out</a>"
                       >
                        {{ request.user.username }}</a>

                </li>

            </ul>

        </div>
    </div>
</nav>

{% block content %}{% endblock %}

{% block scripts %}
    <script src="https://unpkg.com/htmx.org@1.8.6"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src=" https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js "></script>
    <script>
    document.querySelectorAll('.nav-link').forEach(link=>{
        if(link.href === window.location.href){
            link.style.textDecoration = "underline"
        }
        else{
            link.style.textDecoration ='none'
        }
    });
        var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
        var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
            return new bootstrap.Popover(popoverTriggerEl)
        })</script>
{% endblock %}

{% block extra-scripts %} {% endblock %}

</body>
</html>